<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" autoReload="true" internalLogLevel="info" internalLogFile="internalLog.txt">
    <extensions>
        <add assembly="NLog.Web.AspNetCore" />
    </extensions>

    <targets>
        <target name="file" xsi:type="File" fileName="F:\prajval-gahine\prajval-gahine\07 DontNetCore\WebAPIDemo\DemoNLog\mylog.log" layout="${longdate}|${message}"/>
        <target name="file2" xsi:type="File" fileName="F:\prajval-gahine\prajval-gahine\07 DontNetCore\WebAPIDemo\DemoNLog\error\mylog.log" layout="${longdate}|${message}">
            
        </target>
    </targets>

    <rules>
        <logger name="*" minlevel="Trace" writeTo="file" />
        <logger name="*" minlevel="Trace" writeTo="file2">
            <filters>
                <when condition="contains('${message}', 'error')" action="Log" />
                <when condition="not contains('${message}', 'error')" action="Ignore" />
            </filters>
        </logger>
    </rules>
</nlog>